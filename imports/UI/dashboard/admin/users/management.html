<template name="adminUsersManagement">
    <h2 class="title is-2 has-text-centered">Gestion des utilisateurs</h2>

    <table class="table is-bordered is-striped is-hoverable" style="margin: 3rem auto;">
        <thead>
            <tr>
                <th>Username</th>
                <th>Email</th>
                <th>Rôle</th>
                <th>Accès</th>
            </tr>
        </thead>
        <tbody>
            {{#each user in displayUsers}}
                <tr>
                    <td>{{user.username}}</td>
                    <td>{{user.email}}</td>
                    <td>
                        <div class="select">
                            <select id={{user.email}}>
                                {{#each role in displayRoles}}
                                    <option value="{{role}}">{{role}}</option>
                                    <!-- Using an helper to select the corresponding role in the list -->
                                    {{selectUserRole user.email}}
                                {{/each}}
                            </select>
                        </div>
                    </td>
                    <td>
                        <div class="field">
                            <input class="switch is-rounded" type="checkbox" id={{user.email}} name="accessAllowed"/>
                            <label class="label" for={{user.email}} style="font-weight: inherit;"></label>
                            <!-- Using an helper to check the switch input and fill the label -->
                            {{checkAccessAllowedInput user.email}}
                        </div>
                    </td>
                </tr>
            {{/each}}
        </tbody>
    </table>
</template>
